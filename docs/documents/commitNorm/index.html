<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git 版本管理规范 | Bella&#39;s documents</title>
    <meta name="description" content="我见青山多妩媚，料青山见我应如是">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.7d987cf5.css" as="style"><link rel="preload" href="/blog/assets/js/app.78ad85de.js" as="script"><link rel="preload" href="/blog/assets/js/2.dae19a39.js" as="script"><link rel="preload" href="/blog/assets/js/11.5a24d55d.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.94b2b503.js"><link rel="prefetch" href="/blog/assets/js/12.c66bca24.js"><link rel="prefetch" href="/blog/assets/js/13.52c687c5.js"><link rel="prefetch" href="/blog/assets/js/14.5cbd954a.js"><link rel="prefetch" href="/blog/assets/js/15.2e376dc9.js"><link rel="prefetch" href="/blog/assets/js/16.da2cc820.js"><link rel="prefetch" href="/blog/assets/js/17.514058ac.js"><link rel="prefetch" href="/blog/assets/js/18.da0ea4fe.js"><link rel="prefetch" href="/blog/assets/js/3.8ae5894b.js"><link rel="prefetch" href="/blog/assets/js/4.c94675d4.js"><link rel="prefetch" href="/blog/assets/js/5.3746430d.js"><link rel="prefetch" href="/blog/assets/js/6.c390d6a3.js"><link rel="prefetch" href="/blog/assets/js/7.19bd25fd.js"><link rel="prefetch" href="/blog/assets/js/8.757d05c0.js"><link rel="prefetch" href="/blog/assets/js/9.8e7c477b.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.7d987cf5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Bella's documents</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">git系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/documents/commitNorm/" class="nav-link router-link-exact-active router-link-active">git版本管理规范</a></li><li class="dropdown-item"><!----> <a href="/blog/documents/git/" class="nav-link">git的基本用法</a></li></ul></div></div><div class="nav-item"><a href="/blog/documents/singleSPA/" class="nav-link">微前端</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">早读系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/documents/morningRead/codeReview.html" class="nav-link">codeReview</a></li><li class="dropdown-item"><!----> <a href="/blog/documents/morningRead/javaScriptErrors.html" class="nav-link">js 错误上报</a></li><li class="dropdown-item"><!----> <a href="/blog/documents/morningRead/sessionCookie.html" class="nav-link">session,cookie和token</a></li></ul></div></div><div class="nav-item"><a href="/blog/documents/weixin/" class="nav-link">微信小程序</a></div><div class="nav-item"><a href="/blog/documents/element/" class="nav-link">element-ui自定义主题原理</a></div><div class="nav-item"><a href="https://github.com/QxQstar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">git系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/documents/commitNorm/" class="nav-link router-link-exact-active router-link-active">git版本管理规范</a></li><li class="dropdown-item"><!----> <a href="/blog/documents/git/" class="nav-link">git的基本用法</a></li></ul></div></div><div class="nav-item"><a href="/blog/documents/singleSPA/" class="nav-link">微前端</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">早读系列</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/documents/morningRead/codeReview.html" class="nav-link">codeReview</a></li><li class="dropdown-item"><!----> <a href="/blog/documents/morningRead/javaScriptErrors.html" class="nav-link">js 错误上报</a></li><li class="dropdown-item"><!----> <a href="/blog/documents/morningRead/sessionCookie.html" class="nav-link">session,cookie和token</a></li></ul></div></div><div class="nav-item"><a href="/blog/documents/weixin/" class="nav-link">微信小程序</a></div><div class="nav-item"><a href="/blog/documents/element/" class="nav-link">element-ui自定义主题原理</a></div><div class="nav-item"><a href="https://github.com/QxQstar" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>git 版本管理规范</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/documents/commitNorm/#commit-message-规范" class="sidebar-link">commit message 规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#type" class="sidebar-link">Type</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#scope" class="sidebar-link">Scope</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#格式要求" class="sidebar-link">格式要求</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#不符合规定格式的日志拒绝提交" class="sidebar-link">不符合规定格式的日志拒绝提交</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#commit-类型选择提示" class="sidebar-link">commit 类型选择提示</a></li></ul></li><li><a href="/blog/documents/commitNorm/#tag-标签管理" class="sidebar-link">tag 标签管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#工具库或ui组件库的开发" class="sidebar-link">工具库或UI组件库的开发</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#产品有明确的版本概念" class="sidebar-link">产品有明确的版本概念</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#产品没有明确的版本概念" class="sidebar-link">产品没有明确的版本概念</a></li></ul></li><li><a href="/blog/documents/commitNorm/#统一的-changelog-文件信息" class="sidebar-link">统一的 changelog 文件信息</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/documents/commitNorm/#分支管理" class="sidebar-link">分支管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#分支名" class="sidebar-link">分支名</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#开发的工作流程" class="sidebar-link">开发的工作流程</a></li></ul></li><li><a href="/blog/documents/commitNorm/#工作流程" class="sidebar-link">工作流程</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/documents/commitNorm/#禁止的操作" class="sidebar-link">禁止的操作</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/documents/commitNorm/#git的基本概念" class="sidebar-link">git的基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#git中三大对象commit-tree-和-blob" class="sidebar-link">git中三大对象commit , tree 和 blob</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#分离头指针" class="sidebar-link">分离头指针</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#变基" class="sidebar-link">变基</a></li></ul></li><li><a href="/blog/documents/commitNorm/#git的操作" class="sidebar-link">git的操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#配置git" class="sidebar-link">配置git</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#修改commit-message-信息" class="sidebar-link">修改commit message 信息</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#回退版本" class="sidebar-link">回退版本</a></li><li class="sidebar-sub-header"><a href="/blog/documents/commitNorm/#打标签" class="sidebar-link">打标签</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="git-版本管理规范"><a href="#git-版本管理规范" aria-hidden="true" class="header-anchor">#</a> git 版本管理规范</h1> <p>git 版本管理主要从以下几个方面来制定规范。</p> <ol><li>commit message 规范</li> <li>tag 标签管理</li> <li>统一的changelog 文件信息</li> <li>分支管理</li> <li>禁止的操作</li> <li>git的基本概览</li> <li>git的某些操作</li></ol> <h2 id="commit-message-规范"><a href="#commit-message-规范" aria-hidden="true" class="header-anchor">#</a> commit message 规范</h2> <p>每个 commit message 包含一个 header, 一个 body 和一个 footer。header由 type，scope，subject 组成。header中的 type 和 subject 是必填的，scope 选填。body 和 footer 选填。</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
&lt;BLANK LINE&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;
</code></pre></div><h3 id="type"><a href="#type" aria-hidden="true" class="header-anchor">#</a> Type</h3> <ul><li>feat: 新功能</li> <li>fix: 在提测或者上线之后修复的bug</li> <li>docs: 仅仅修改了文档.如：README,CHANGELOG等</li> <li>style: 修改代码风格.如：修改了缩进，空格，逗号；增加，修改，删除了注释；删除多余的文件；删除console.log等</li> <li>refactor: 代码重构，没有新增功能也没有修复bug</li> <li>pref: 性能优化</li> <li>test: 修改测试用例。如单元测试，集成测试等</li> <li>revert: 回滚到某个版本</li> <li>chore: 改变构建流程，增加了依赖库或修改了配置文件等</li></ul> <h3 id="scope"><a href="#scope" aria-hidden="true" class="header-anchor">#</a> Scope</h3> <p>在scope中指定本次变更修改的文件</p> <h3 id="格式要求"><a href="#格式要求" aria-hidden="true" class="header-anchor">#</a> 格式要求</h3> <div class="language- extra-class"><pre class="language-text"><code># header：52个字符以内，描述主要变更内容
#
# body：更详细的说明文本，建议72个字符以内。 需要描述的信息包括:
#
# * 为什么这个变更是必须的? 它可能是用来修复一个bug，增加一个feature，提升性能、可靠性、稳定性等等
# * 他如何解决这个问题? 具体描述解决问题的步骤
# * 是否存在副作用、风险? 
#
# footer：如果需要的化可以添加一个链接到issue地址，或者关闭某个issue。
</code></pre></div><p>例子：</p> <div class="language- extra-class"><pre class="language-text"><code>feat(app.css): 去掉所有a标签的下划线

由于UI改版，所有去掉系统中所有a标签的下划线
</code></pre></div><h3 id="不符合规定格式的日志拒绝提交"><a href="#不符合规定格式的日志拒绝提交" aria-hidden="true" class="header-anchor">#</a> 不符合规定格式的日志拒绝提交</h3> <p>使用 commitlint 和 husky 验证并限制 commit message.</p> <h3 id="commit-类型选择提示"><a href="#commit-类型选择提示" aria-hidden="true" class="header-anchor">#</a> commit 类型选择提示</h3> <p>使用 commitizen 工具</p> <h2 id="tag-标签管理"><a href="#tag-标签管理" aria-hidden="true" class="header-anchor">#</a> tag 标签管理</h2> <p>tag标签管理分为三种情况，产品没有明确的版本概念，产品有明确的版本的概览，工具库或者UI组件库的开发。</p> <h3 id="工具库或ui组件库的开发"><a href="#工具库或ui组件库的开发" aria-hidden="true" class="header-anchor">#</a> 工具库或UI组件库的开发</h3> <p>版本格式：主版本号.次版本号.修订号（X.Y.Z），版本号递增规则如下：</p> <ul><li>主版本号：当你做了不兼容的 API 修改，</li> <li>次版本号：当你做了向下兼容的功能性新增，</li> <li>修订号：当你做了向下兼容的问题修正。</li></ul> <p>版本控制规范</p> <ol><li>标准的版本号必须采用X.Y.Z的格式，其中X.Y.Z为非负整数，禁止在数字前方补零，X 是主版本号、Y 是次版本号、而 Z 为修订号。</li> <li>标记版本号的工具库或者UI组件库发发行后，禁止修改该版本的内容，任何修改必须以新版本发行。</li> <li>主版本号为0时，表示此时处于初始开发阶段，一切都可能随时被改变，此时工具库或者UI组件库还不稳定。</li> <li>1.0.0的版本号用于界定稳定版形成。</li> <li>修订号Z必须在做了向下兼容的修改时才能递增，这里的修改指的是针对不正确结果而进行的内部修改。</li> <li>次版本号 Y 必须在有向下兼容的新功能出现时递增。也可以在内部程序有大量改进被加入时递增，其中可以包括修订级别的改变。每当次版本号递增时，修订号必须（MUST）归零。</li> <li>主版本号 X必须在有任何不兼容的修改被加入时递增。其中可以包括次版本号及修订级别的改变。每当主版本号递增时，次版本号和修订号必须（MUST）归零。</li></ol> <h3 id="产品有明确的版本概念"><a href="#产品有明确的版本概念" aria-hidden="true" class="header-anchor">#</a> 产品有明确的版本概念</h3> <p>版本格式与产品的版本一致，如果版本发布之后有修订版就在版本后面加上后缀，用中划线分隔，fix后面加上次数，即第几次fix。例如: v1.2.4   v1.2.4-fix1</p> <h3 id="产品没有明确的版本概念"><a href="#产品没有明确的版本概念" aria-hidden="true" class="header-anchor">#</a> 产品没有明确的版本概念</h3> <p>在产品没有明确版本的概念时以本期大的功能修改作为版本号，如果涉及到多个功能模版的修改，模块之间以点(.)分割，最多不超过两个点(.)，如果版本发布之后有修订版就在版本后面加上后缀，用中划线分隔，fix后面加上次数，即第几次fix。例如：userDetail.home.depDetail userDetail.home.depDetail-fix1</p> <p>版本发布之前打tag，如果在本次打tag之后有修改则根据实际情况版本递增，打tag之后使用 <code>git push origin --tags</code> 推送所有本地新增的tag到远端。</p> <h2 id="统一的-changelog-文件信息"><a href="#统一的-changelog-文件信息" aria-hidden="true" class="header-anchor">#</a> 统一的 changelog 文件信息</h2> <p>对于开发的工具库或者UI组件库，使用conventional-changelog-cli生成changelog日志文件，它会根据commits生成日志文件。</p> <h2 id="分支管理"><a href="#分支管理" aria-hidden="true" class="header-anchor">#</a> 分支管理</h2> <h3 id="分支名"><a href="#分支名" aria-hidden="true" class="header-anchor">#</a> 分支名</h3> <ul><li>线上bug修复：fix-feature/xxx，xxx表示要修复的功能</li> <li>线上环境的分支：默认只有一个线上环境，所以线上环境的默认分支是master，如果存在多个线上环境，除master之外的线上环境分支为:master-xxx,xxx代表功能，例如: master-saas。</li> <li>需求分支：如果本次需求有发布或者最终完成的时间（完成指开发且测试通过），分支名为feat-20191019，如果没有确定的时间，分支名为feat-feature/xxx。如果本次需求由多人协同开发，就在大分支名后面加后缀。如：feat-20190405-bella，feat-feature/goodsManger-bella</li> <li>性能优化分支: 分支命名规则与需求分支的命名规则类似，只是将前缀feat改成pref</li></ul> <h3 id="开发的工作流程"><a href="#开发的工作流程" aria-hidden="true" class="header-anchor">#</a> 开发的工作流程</h3> <ol><li>修复线上bug：从线上环境对应的分支checkout一个fix分支用于修复bug，bug修复完成之后如果这个bug需要立即上线，就以这个fix分支提测，测试通过上线，将fix分支合入线上环境的分支,删除fix分支；如果这个bug要等到下一次和功能需求一起上线，就将这个fix分支合入功能分支上与功能需求一起上线</li></ol> <div class="language-html extra-class"><pre class="language-html"><code>切换到master分支
git checkout master

基于master 建一个fix分支
git checkout -b fix-feature/home

提测
以fix-feature/home分支的代码推送到测试环境

上线之后
git checkout master
git merge fix-feature/home

将所有的分支推送到远端仓库
git push --all

删除分支
git branch -d fix-feature/home
</code></pre></div><ol start="2"><li>需求开发：从线上环境对应的分支checkout一个feat分支，如果本次需求由多人协同开发，就基于大的feat分支checkout个人feat分支,开发完成之后每个人将自己的分支合如feat分支，以feat分支提测，测试通过上线将feat分支合入线上分支，删除feat分支。</li></ol> <div class="language- extra-class"><pre class="language-text"><code>切换到master分支
git checkout master

基于master分支建feat分支
git checkout -b feat-20190102

如果涉及多人开发，每个人创建自己的开发分支
git checkout -b feat-20190102-bella

多人开发完成，将自己的代码合并到这次共同的开发分支上
git checkout feat-20190102
git merge feat-20190102-bella

提测
以feat-20190102分支的代码推送到测试环境

上线之后
git checkout master
git merge feat-20190102

将所有的分支推送到远端仓库
git push --all

删除分支
git branch -d feat-20190102

</code></pre></div><h2 id="工作流程"><a href="#工作流程" aria-hidden="true" class="header-anchor">#</a> 工作流程</h2> <ol><li>基于线上分支创建功能分支</li> <li>功能开发</li> <li>根据功能提交 commit</li> <li>将多人协同开发的代码合并</li> <li>提测</li> <li>生成统一的changelog文件信息并且commit(可选)</li> <li>上线</li> <li>将变更合并到线上分支</li> <li>打标签</li> <li>删除功能分支</li> <li>push</li></ol> <blockquote><p>上述流程是前端和后端同时发布，如果是前后端分开分布，工作流程会变成1,2,3,4,5,8,6.9,11,7,10</p></blockquote> <h2 id="禁止的操作"><a href="#禁止的操作" aria-hidden="true" class="header-anchor">#</a> 禁止的操作</h2> <ol><li>禁止在团队公共分支上执行git push -f 操作</li> <li>禁止在团队公共分支执行git base变基操作，团队的公共分支的变更记录只能往前走，不能修改历史的变更记录</li> <li>禁止在团队公共分支执行git reset 操作进行代码回滚，如果需要回滚就使用git revert</li></ol> <h2 id="git的基本概念"><a href="#git的基本概念" aria-hidden="true" class="header-anchor">#</a> git的基本概念</h2> <h3 id="git中三大对象commit-tree-和-blob"><a href="#git中三大对象commit-tree-和-blob" aria-hidden="true" class="header-anchor">#</a> git中三大对象commit , tree 和 blob</h3> <p>每次执行git commit操作都会生成一个commit对象，每个commit对象中会包含一个tree对象。tree对象中保存了本次执行commit操作时本项目仓库中所有文件夹和文件的快照，在git中blob对象表示文件，如果两个文件如果文件内容一样，那么对应同一个blob。</p> <h3 id="分离头指针"><a href="#分离头指针" aria-hidden="true" class="header-anchor">#</a> 分离头指针</h3> <p>执行 <code>git checkout &lt;commit&gt;</code> 命令会让git出于分离头指针的状态。在处于分离头指针的状态可以继续开发也可以继续产生commit而且不会影响其他分支。分离头指针的本质就是当前工作在没有分支的状态下，在这种状态下做的变更不与任何分支绑定，在分离头指针的状态下做了变更并产生了commit，然后又切换到其他分支，之前产生的变更很可能会被git当作垃圾清理掉</p> <h3 id="变基"><a href="#变基" aria-hidden="true" class="header-anchor">#</a> 变基</h3> <p>提取某一个分支上的修改，将修改应用到另一分支上，这种操作变基。通过变基能够完成的操作有：合并代码和修改commit message 信息。</p> <h2 id="git的操作"><a href="#git的操作" aria-hidden="true" class="header-anchor">#</a> git的操作</h2> <h3 id="配置git"><a href="#配置git" aria-hidden="true" class="header-anchor">#</a> 配置git</h3> <div class="language- extra-class"><pre class="language-text"><code>配置user.name : git config --global user.name 'your name'
配置user.email : git config --global user.email 'your email'
</code></pre></div><ol><li>config 参数</li></ol> <ul><li>git config --local : 只对某个仓库有效</li> <li>git config --global : 对当前用户所有的仓库有效</li> <li>git config --system : 对系统所有的登录用户有效</li></ul> <ol start="2"><li>显示config的配置</li></ol> <p><code>git config --list</code>会将所有范围的config配置都显示出来。如果只想显示某一个范围的config配置，就要加范围参数(如：--local,--global,--system)</p> <h3 id="修改commit-message-信息"><a href="#修改commit-message-信息" aria-hidden="true" class="header-anchor">#</a> 修改commit message 信息</h3> <ol><li>修改最新的commit</li></ol> <div class="language- extra-class"><pre class="language-text"><code>git commit --amend
</code></pre></div><ol start="2"><li>修改老的commit的message</li></ol> <div class="language-html extra-class"><pre class="language-html"><code>git rebase -i  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>commit</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>参数-i后的commit值是需要修改message信息的commit的父commit的哈希值。执行这个命名后根据命令行中的提示进行操作就可以达到修改commit message的目的，在交互界面使用r命令。</p> <ol start="3"><li>将多个连续的commit合并成一个commit</li></ol> <div class="language- extra-class"><pre class="language-text"><code>git rebase -i  &lt;commit&gt;
</code></pre></div><p>git rebase -i &lt; commit &gt;。-i参数后的commit hash值是需要合并成一个commit的多个连续commit的最近的父commit的hash值。在交互界面使用s命令</p> <ol start="4"><li>将间隔的多个commit合并成一个commit</li></ol> <div class="language-html extra-class"><pre class="language-html"><code>git rebase -i <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>commit</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在交互界面中使用s命令，并且将间隔的commit放在一起</p> <blockquote><p>在commit没有被推送到远端仓库之前可以修改commit message，禁止修改公共分支上的commit message。如果要修改第一次提交的commit message， 在提交列表中，可以手工将根commit添加进来。更简单的方式是使用 <code>git rebase -i --root</code> 命令，该命令允许你在分支上变基根提交.</p></blockquote> <h3 id="回退版本"><a href="#回退版本" aria-hidden="true" class="header-anchor">#</a> 回退版本</h3> <div class="language- extra-class"><pre class="language-text"><code>git revert &lt;commit&gt;…​
</code></pre></div><p>还原一个或者多个commit 的修改。</p> <div class="language- extra-class"><pre class="language-text"><code>git revert commit2..commit5
</code></pre></div><p>恢复commit2(不包含)到commit5(包含)之间变更</p> <h3 id="打标签"><a href="#打标签" aria-hidden="true" class="header-anchor">#</a> 打标签</h3> <div class="language- extra-class"><pre class="language-text"><code>git tag v1.0.0
</code></pre></div><ol><li>后期加tag</li></ol> <div class="language- extra-class"><pre class="language-text"><code>git tag -a v1.0.0 commitId
</code></pre></div><ol start="2"><li>将本地新增的标签推送到远端</li></ol> <div class="language- extra-class"><pre class="language-text"><code>git push --tags
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.78ad85de.js" defer></script><script src="/blog/assets/js/2.dae19a39.js" defer></script><script src="/blog/assets/js/11.5a24d55d.js" defer></script>
  </body>
</html>
