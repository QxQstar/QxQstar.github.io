(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{251:function(t,e,a){"use strict";a.r(e);var o=a(0),r=Object(o.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"记录微信小程序开发遇到的一些坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#记录微信小程序开发遇到的一些坑","aria-hidden":"true"}},[t._v("#")]),t._v(" 记录微信小程序开发遇到的一些坑")]),t._v(" "),a("ol",[a("li",[t._v("使用image标签要注意指定mode属性，不要依赖微信小程序的默认值（scaleToFill）。")])]),t._v(" "),a("blockquote",[a("p",[t._v("图片的尺寸为100px * 100px，给image的样式设置为40px * 40px，mode为scaleToFill，图片还是可能会变形")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("ios 拍摄图片并上传，上传完成之后图片会旋转90度")])]),t._v(" "),a("blockquote",[a("p",[t._v("不仅微信小程序会出现这种问题，H5页面也会出现类似的问题")])]),t._v(" "),a("p",[t._v("解决方案：在我们公司静态资源在阿里云上，后端说解决方案是：加了一个参数，阿里云处理的。如果不让后端解决，前端也可以解决。前端解决方案：获取图片的元信息（图片拍摄方向等）,然后用css旋转图片，或者在上传图片前使用canvas旋转图片。"),a("a",{attrs:{href:"http://code.ciaoca.com/javascript/exif-js/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Exif.js"),a("OutboundLink")],1),t._v("可以获取图片元信息。\n产生原因:用相机拍摄出来的照片含有EXIF信息，如果我们忽略orientation信息，而直接对照片进行像素处理或者drawInRect等操作，得到的结果是翻转或者旋转90之后的样子。")])])},[],!1,null,null,null);e.default=r.exports}}]);